"use strict";(globalThis.webpackChunkbook_source=globalThis.webpackChunkbook_source||[]).push([[7305],{137:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"Module 06 Navigation-SLAM/6.4-ros2-nav2-setup-guide","title":"Chapter 6: Navigation & SLAM - ROS 2 Nav2 Setup Guide","description":"6.4.1 Guide to Setting Up the Nav2 Stack in ROS 2","source":"@site/docs/Module 06 Navigation-SLAM/6.4-ros2-nav2-setup-guide.md","sourceDirName":"Module 06 Navigation-SLAM","slug":"/Module 06 Navigation-SLAM/6.4-ros2-nav2-setup-guide","permalink":"/docs/Module 06 Navigation-SLAM/6.4-ros2-nav2-setup-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Module 06 Navigation-SLAM/6.4-ros2-nav2-setup-guide.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"6.2: Navigation & SLAM - Obstacle Avoidance with Intel RealSense","permalink":"/docs/Module 06 Navigation-SLAM/6.2-navigation-obstacle-avoidance-realsense"},"next":{"title":"Chapter 7: The Capstone - Conversational Robot","permalink":"/docs/Module 07 The-Capstone/7.1-the-capstone-project"}}');var o=t(4848),r=t(8453);const i={},s="Chapter 6: Navigation & SLAM - ROS 2 Nav2 Setup Guide",l={},c=[{value:"6.4.1 Guide to Setting Up the Nav2 Stack in ROS 2",id:"641-guide-to-setting-up-the-nav2-stack-in-ros-2",level:3}];function d(e){const n={code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"chapter-6-navigation--slam---ros-2-nav2-setup-guide",children:"Chapter 6: Navigation & SLAM - ROS 2 Nav2 Setup Guide"})}),"\n",(0,o.jsx)(n.h3,{id:"641-guide-to-setting-up-the-nav2-stack-in-ros-2",children:"6.4.1 Guide to Setting Up the Nav2 Stack in ROS 2"}),"\n",(0,o.jsxs)(n.p,{children:["The Nav2 stack in ROS 2 provides a powerful framework for robot navigation, including capabilities for localization, mapping, path planning, and motion control. This guide outlines the steps to set up Nav2 for a simulated Turtlebot3 robot.\r\n",(0,o.jsx)(n.strong,{children:"1. Install Nav2 and Turtlebot3 Packages:"}),"\r\nBegin by installing the necessary ROS 2 packages for Nav2 and Turtlebot3."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-humble-navigation2 ros-humble-nav2-bringup\r\nsudo apt install ros-humble-turtlebot3\\*\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"2. Set Robot Model:"}),"\r\nConfigure the ",(0,o.jsx)(n.code,{children:"TURTLEBOT3_MODEL"})," environment variable in your ",(0,o.jsx)(n.code,{children:".bashrc"})," file to specify the Turtlebot3 model being used (e.g., ",(0,o.jsx)(n.code,{children:"waffle"}),")."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"export TURTLEBOT3_MODEL=waffle\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"3. Launch Simulated Robot in Gazebo:"}),"\r\nStart a simulated Turtlebot3 robot in a Gazebo environment."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 launch turtlebot3_gazebo turtlebot3_world.launch.py\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"4. Generate a Map using SLAM (Cartographer):"}),"\r\nTo create a map of the environment, launch the Cartographer SLAM node, ensuring ",(0,o.jsx)(n.code,{children:"use_sim_time:=True"})," for simulation."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 launch turtlebot3_cartographer cartographer.launch.py use_sim_time:=True\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Drive the robot around the environment using a teleoperation node (e.g., ",(0,o.jsx)(n.code,{children:"ros2 run turtlebot3_teleop teleop_keyboard"}),"). Once the map is sufficiently built, save it:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 run nav2_map_server map_saver_cli -f my_map\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This command will create two files: ",(0,o.jsx)(n.code,{children:"my_map.yaml"})," (containing metadata like resolution and origin) and ",(0,o.jsx)(n.code,{children:"my_map.pgm"})," (the occupancy grid image).\r\n",(0,o.jsx)(n.strong,{children:"5. Configure DDS and Turtlebot3 Navigation Parameters:"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Install Cyclone DDS:"})," Cyclone DDS is often preferred for performance with Nav2.","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-humble-rmw-cyclonedds-cpp\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Set RMW Implementation:"})," Add the following line to your ",(0,o.jsx)(n.code,{children:".bashrc"})," to configure ROS 2 to use Cyclone DDS:","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Modify Turtlebot3 Navigation Parameters:"})," Edit the ",(0,o.jsx)(n.code,{children:"waffle.yaml"})," file (typically found at ",(0,o.jsx)(n.code,{children:"/opt/ros/humble/share/turtlebot3_navigation2/param/waffle.yaml"}),") to set the ",(0,o.jsx)(n.code,{children:"robot_model_type"}),".","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'robot_model_type: "nav2_amcl::DifferentialMotionModel"\n'})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"6. Launch Nav2 for Navigation:"}),"\r\nWith the map generated and configurations set, launch the Nav2 stack, specifying the path to your saved map."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 launch turtlebot3_navigation2 navigation2.launch.py use_sim_time:=True map:=/path/to/my_map.yaml\n"})}),"\n",(0,o.jsx)(n.p,{children:'In RViz, use the "2D Pose Estimate" tool to initialize the robot\'s position and orientation on the map. Then, use the "Nav2 Goal" tool to set navigation targets for the robot.'})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var a=t(6540);const o={},r=a.createContext(o);function i(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);