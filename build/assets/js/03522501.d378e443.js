"use strict";(globalThis.webpackChunkbook_source=globalThis.webpackChunkbook_source||[]).push([[6879],{322:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Module 02 ROS2-Basics/2.2-python-publisher-subscriber","title":"2.2-python-publisher-subscriber","description":"2.2 Python Publisher and Subscriber Examples: Your First ROS 2 Communication","source":"@site/docs/Module 02 ROS2-Basics/2.2-python-publisher-subscriber.md","sourceDirName":"Module 02 ROS2-Basics","slug":"/Module 02 ROS2-Basics/2.2-python-publisher-subscriber","permalink":"/docs/Module 02 ROS2-Basics/2.2-python-publisher-subscriber","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Module 02 ROS2-Basics/2.2-python-publisher-subscriber.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 2: ROS 2 Fundamentals & Core Programming","permalink":"/docs/Module 02 ROS2-Basics/2.1-ros2-core-concepts"},"next":{"title":"2.3-launch-files-orchestration","permalink":"/docs/Module 02 ROS2-Basics/2.3-launch-files-orchestration"}}');var i=s(4848),l=s(8453);const o={},t=void 0,c={},d=[{value:"2.2 Python Publisher and Subscriber Examples: Your First ROS 2 Communication",id:"22-python-publisher-and-subscriber-examples-your-first-ros-2-communication",level:2},{value:"2.2.1 Setting Up Your ROS 2 Workspace (Important Pre-requisite)",id:"221-setting-up-your-ros-2-workspace-important-pre-requisite",level:3},{value:"2.2.2 Python Publisher Example: The &quot;Hello World&quot; Broadcaster",id:"222-python-publisher-example-the-hello-world-broadcaster",level:3},{value:"2.2.2.1 Making the Publisher Executable (setup.py)",id:"2221-making-the-publisher-executable-setuppy",level:4},{value:"2.2.2.2 Building and Running the Publisher",id:"2222-building-and-running-the-publisher",level:4},{value:"2.2.3 Python Subscriber Example: The &quot;Hello World&quot; Listener",id:"223-python-subscriber-example-the-hello-world-listener",level:3},{value:"2.2.3.1 Making the Subscriber Executable (setup.py)",id:"2231-making-the-subscriber-executable-setuppy",level:4},{value:"2.2.3.2 Building and Running the Subscriber",id:"2232-building-and-running-the-subscriber",level:4},{value:"2.2.4 Project: Simple Echo Bot (Putting it all Together)",id:"224-project-simple-echo-bot-putting-it-all-together",level:3},{value:"Project Steps:",id:"project-steps",level:4},{value:"Implementation Guidelines:",id:"implementation-guidelines",level:4},{value:"Verification (Controls):",id:"verification-controls",level:4}];function a(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"22-python-publisher-and-subscriber-examples-your-first-ros-2-communication",children:"2.2 Python Publisher and Subscriber Examples: Your First ROS 2 Communication"}),"\n",(0,i.jsx)(n.p,{children:"This section is dedicated to hands-on Python examples, guiding you through the creation of your first ROS 2 nodes: a publisher and a subscriber. These practical exercises will solidify your understanding of the fundamental publish-subscribe communication model, an essential skill for building any robotic application. You'll learn how to set up, code, and execute these nodes, and how to verify their communication."}),"\n",(0,i.jsx)(n.h3,{id:"221-setting-up-your-ros-2-workspace-important-pre-requisite",children:"2.2.1 Setting Up Your ROS 2 Workspace (Important Pre-requisite)"}),"\n",(0,i.jsx)(n.p,{children:"Before diving into the code, ensure your ROS 2 environment is correctly set up. If you haven't already, follow these steps in your terminal:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Create a ROS 2 Workspace:"})," A workspace is a directory where you develop your ROS 2 packages."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src\r\ncd ~/ros2_ws\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Initialize the Workspace:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"rosdep install -i --from-path src --rosdistro humble -y\r\ncolcon build --symlink-install\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"rosdep install"}),": Installs system dependencies for your packages."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"colcon build"}),": The build tool for ROS 2. ",(0,i.jsx)(n.code,{children:"--symlink-install"})," creates symbolic links, which is convenient for development as you don't need to rebuild after every code change."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Source the Workspace:"})," This adds your workspace's packages to your ROS 2 environment."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"source install/setup.bash\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Pro Tip:"})," Add this ",(0,i.jsx)(n.code,{children:"source"})," command to your ",(0,i.jsx)(n.code,{children:"~/.bashrc"})," (or ",(0,i.jsx)(n.code,{children:"~/.zshrc"}),') file to automatically source your workspace every time you open a new terminal. This is crucial for avoiding common "command not found" errors.']}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Create a ROS 2 Package:"})," A package is the fundamental unit of organization in ROS 2, containing your nodes, message definitions, and other related files."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd src\r\nros2 pkg create --build-type ament_python my_robot_pkg\r\ncd ..\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--build-type ament_python"}),": Specifies that this is a Python package, using the ",(0,i.jsx)(n.code,{children:"ament"})," build system."]}),"\n",(0,i.jsxs)(n.li,{children:["This creates a directory structure like ",(0,i.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/my_robot_pkg/"})," and ",(0,i.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/setup.py"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Now you're ready to create your publisher and subscriber nodes within the ",(0,i.jsx)(n.code,{children:"my_robot_pkg"})," package."]}),"\n",(0,i.jsx)(n.h3,{id:"222-python-publisher-example-the-hello-world-broadcaster",children:'2.2.2 Python Publisher Example: The "Hello World" Broadcaster'}),"\n",(0,i.jsx)(n.p,{children:'Let\'s create a simple ROS 2 node in Python that continuously publishes a "Hello World" message to a designated topic. This example demonstrates how to set up a basic publisher node, including its initialization, message creation, and publishing loop.'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File Location:"})," ",(0,i.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/my_robot_pkg/hello_publisher.py"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String # Standard ROS 2 message type for strings\r\n\r\nclass HelloWorldPublisher(Node):\r\n    def __init__(self):\r\n        # Initialize the node with a unique name\r\n        # The name 'hello_world_publisher_node' will appear in 'ros2 node list'\r\n        super().__init__('hello_world_publisher_node')\r\n\r\n        # Create a publisher\r\n        # It will send String messages to the topic named 'hello_topic'\r\n        # The queue size (10) determines how many messages to buffer if subscribers are slow\r\n        self.publisher_ = self.create_publisher(String, 'hello_topic', 10)\r\n\r\n        # Set a timer to call the timer_callback function repeatedly\r\n        # This function will be called every 0.5 seconds (2 Hz)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n\r\n        self.message_counter = 0  # Counter for messages to make them unique\r\n        self.get_logger().info('Hello World Publisher Node Started!')\r\n\r\n    def timer_callback(self):\r\n        # Create a new String message object\r\n        msg = String()\r\n        msg.data = f'Hello from ROS 2! Message Count: {self.message_counter}'\r\n\r\n        # Publish the message to the 'hello_topic'\r\n        self.publisher_.publish(msg)\r\n\r\n        # Log the published message to the console\r\n        self.get_logger().info(f'Published: \"{msg.data}\" (Sequence: {self.message_counter})')\r\n\r\n        self.message_counter += 1\r\n\r\ndef main(args=None):\r\n    # Initialize the ROS 2 Python client library\r\n    rclpy.init(args=args)\r\n\r\n    # Create an instance of our publisher node\r\n    hello_publisher_node = HelloWorldPublisher()\r\n\r\n    # Spin the node, allowing it to process callbacks (like our timer_callback)\r\n    # This keeps the node alive and publishing until Ctrl+C is pressed\r\n    try:\r\n        rclpy.spin(hello_publisher_node)\r\n    except KeyboardInterrupt: # Handle Ctrl+C gracefully\r\n        pass\r\n\r\n    # Destroy the node cleanly once rclpy.spin() returns\r\n    hello_publisher_node.destroy_node()\r\n    # Shut down the ROS 2 Python client library\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h4,{id:"2221-making-the-publisher-executable-setuppy",children:"2.2.2.1 Making the Publisher Executable (setup.py)"}),"\n",(0,i.jsxs)(n.p,{children:["To run this Python file as a ROS 2 node, you need to tell ROS 2 about it by modifying your ",(0,i.jsx)(n.code,{children:"setup.py"})," file within ",(0,i.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File:"})," ",(0,i.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/setup.py"})]}),"\n",(0,i.jsxs)(n.p,{children:["Locate the ",(0,i.jsx)(n.code,{children:"entry_points"})," dictionary and add an entry for your publisher node:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from setuptools import setup\r\n\r\npackage_name = 'my_robot_pkg'\r\n\r\nsetup(\r\n    name=package_name,\r\n    version='0.0.0',\r\n    packages=[package_name],\r\n    data_files=[\r\n        ('share/' + package_name, ['package.xml']),\r\n        ('share/' + package_name + '/launch', ['launch/hello_world_launch.py']), # Add this for launch file later\r\n        # ... other data files\r\n    ],\r\n    install_requires=['setuptools'],\r\n    zip_safe=True,\r\n    maintainer='your_name',\r\n    maintainer_email='your_email@example.com',\r\n    description='TODO: Package description',\r\n    license='TODO: License declaration',\r\n    tests_require=['pytest'],\r\n    entry_points={\r\n        'console_scripts': [\r\n            'hello_publisher = my_robot_pkg.hello_publisher:main',\r\n        ],\r\n    },\r\n)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Explanation:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'hello_publisher'"}),": This is the command-line executable name you'll use to run your node."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"my_robot_pkg.hello_publisher:main"}),": This tells ROS 2 to look for a Python module named ",(0,i.jsx)(n.code,{children:"hello_publisher"})," inside your ",(0,i.jsx)(n.code,{children:"my_robot_pkg"})," package and execute its ",(0,i.jsx)(n.code,{children:"main()"})," function."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"2222-building-and-running-the-publisher",children:"2.2.2.2 Building and Running the Publisher"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Build Your Package:"})," Navigate back to your workspace root and build."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\r\ncolcon build --packages-select my_robot_pkg\r\nsource install/setup.bash # Re-source after build\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Run the Publisher Node:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 run my_robot_pkg hello_publisher\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You should see messages being published to the console by your ",(0,i.jsx)(n.code,{children:"HelloWorldPublisher"})," node."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Verify with ROS 2 Tools (Controls):"})," Open a ",(0,i.jsx)(n.em,{children:"new"})," terminal (and remember to source your workspace: ",(0,i.jsx)(n.code,{children:"cd ~/ros2_ws && source install/setup.bash"}),"):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"List active nodes:"})," ",(0,i.jsx)(n.code,{children:"ros2 node list"})," (You should see ",(0,i.jsx)(n.code,{children:"'/hello_world_publisher_node'"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"List active topics:"})," ",(0,i.jsx)(n.code,{children:"ros2 topic list"})," (You should see ",(0,i.jsx)(n.code,{children:"'/hello_topic'"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Echo topic messages:"})," ",(0,i.jsx)(n.code,{children:"ros2 topic echo /hello_topic"})," (This will display the messages published by your node in real-time)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"223-python-subscriber-example-the-hello-world-listener",children:'2.2.3 Python Subscriber Example: The "Hello World" Listener'}),"\n",(0,i.jsxs)(n.p,{children:["Now, let's create a corresponding subscriber node that listens to the ",(0,i.jsx)(n.code,{children:"hello_topic"})," and prints the messages it receives. This demonstrates how a node can consume data published by another node."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File Location:"})," ",(0,i.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/my_robot_pkg/hello_subscriber.py"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass HelloWorldSubscriber(Node):\r\n    def __init__(self):\r\n        # Initialize the node with a unique name\r\n        super().__init__('hello_world_subscriber_node')\r\n\r\n        # Create a subscriber\r\n        # It will listen for String messages on the topic named 'hello_topic'\r\n        # When a message arrives, it will call the self.listener_callback function\r\n        self.subscription = self.create_subscription(\r\n            String,           # Message type expected\r\n            'hello_topic',    # Topic name to subscribe to\r\n            self.listener_callback, # Callback function to execute\r\n            10                # Queue size\r\n        )\r\n        # Prevent unused variable warning\r\n        self.subscription\r\n        self.get_logger().info('Hello World Subscriber Node Started, waiting for messages...')\r\n\r\n    def listener_callback(self, msg):\r\n        # This function is called automatically every time a new message is received on 'hello_topic'\r\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    hello_subscriber_node = HelloWorldSubscriber()\r\n\r\n    try:\r\n        rclpy.spin(hello_subscriber_node)\r\n    except KeyboardInterrupt: # Handle Ctrl+C gracefully\r\n        pass\r\n\r\n    hello_subscriber_node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h4,{id:"2231-making-the-subscriber-executable-setuppy",children:"2.2.3.1 Making the Subscriber Executable (setup.py)"}),"\n",(0,i.jsxs)(n.p,{children:["Just like the publisher, you need to add an entry for your subscriber node in ",(0,i.jsx)(n.code,{children:"~/ros2_ws/src/my_robot_pkg/setup.py"})," under the ",(0,i.jsx)(n.code,{children:"entry_points"})," dictionary:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# ... (existing setup.py content)\r\n\r\n    entry_points={\r\n        'console_scripts': [\r\n            'hello_publisher = my_robot_pkg.hello_publisher:main',\r\n            'hello_subscriber = my_robot_pkg.hello_subscriber:main', # Add this line\r\n        ],\r\n    },\r\n)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"2232-building-and-running-the-subscriber",children:"2.2.3.2 Building and Running the Subscriber"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Build Your Package:"})," If you modified ",(0,i.jsx)(n.code,{children:"setup.py"}),", rebuild your package."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\r\ncolcon build --packages-select my_robot_pkg\r\nsource install/setup.bash # Re-source after build\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Run the Subscriber Node:"})," Open a ",(0,i.jsx)(n.em,{children:"new"})," terminal (and source your workspace):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 run my_robot_pkg hello_subscriber\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Now, if you have your ",(0,i.jsx)(n.code,{children:"hello_publisher"})," running in another terminal, you should see the ",(0,i.jsx)(n.code,{children:"hello_subscriber"}),' node printing the "Hello World" messages it receives. This demonstrates a complete, albeit simple, ROS 2 communication pipeline!']}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"224-project-simple-echo-bot-putting-it-all-together",children:"2.2.4 Project: Simple Echo Bot (Putting it all Together)"}),"\n",(0,i.jsx)(n.p,{children:"This project challenges you to combine your knowledge of publishers and subscribers to create a more interactive ROS 2 system. You'll implement three nodes to simulate a basic chat or data processing pipeline."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Goal:"})," Create a ",(0,i.jsx)(n.code,{children:"talker"}),", ",(0,i.jsx)(n.code,{children:"listener"}),", and ",(0,i.jsx)(n.code,{children:"echo_bot"})," node that communicate using topics."]}),"\n",(0,i.jsx)(n.h4,{id:"project-steps",children:"Project Steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["**Create ",(0,i.jsx)(n.code,{children:"talker"})," node (",(0,i.jsx)(n.code,{children:"my_robot_pkg/talker.py"}),"):","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Publishes ",(0,i.jsx)(n.code,{children:"std_msgs/String"})," messages to a topic named ",(0,i.jsx)(n.code,{children:"/chatter"})," at a rate of 1 Hz (or similar)."]}),"\n",(0,i.jsx)(n.li,{children:'The message content can be a simple phrase like "Hello ROS 2!" followed by a sequence number.'}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["**Create ",(0,i.jsx)(n.code,{children:"listener"})," node (",(0,i.jsx)(n.code,{children:"my_robot_pkg/listener.py"}),"):","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Subscribes to the ",(0,i.jsx)(n.code,{children:"/chatter"})," topic."]}),"\n",(0,i.jsx)(n.li,{children:"Prints every message it receives to the console."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["**Create ",(0,i.jsx)(n.code,{children:"echo_bot"})," node (",(0,i.jsx)(n.code,{children:"my_robot_pkg/echo_bot.py"}),"):","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Subscribes to the ",(0,i.jsx)(n.code,{children:"/chatter"})," topic."]}),"\n",(0,i.jsxs)(n.li,{children:["When it receives a message, it modifies the ",(0,i.jsx)(n.code,{children:"data"}),' field (e.g., appends " - ECHOED by BOT").']}),"\n",(0,i.jsxs)(n.li,{children:["Publishes the modified message to a ",(0,i.jsx)(n.em,{children:"new"})," topic, ",(0,i.jsx)(n.code,{children:"/chatter_echo"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"implementation-guidelines",children:"Implementation Guidelines:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Re-use Code Structure:"})," Base your ",(0,i.jsx)(n.code,{children:"talker"})," and ",(0,i.jsx)(n.code,{children:"listener"})," nodes on the ",(0,i.jsx)(n.code,{children:"hello_publisher.py"})," and ",(0,i.jsx)(n.code,{children:"hello_subscriber.py"})," examples."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"echo_bot"})," Logic:"]})," The ",(0,i.jsx)(n.code,{children:"echo_bot"})," will have both a subscriber and a publisher within the same node class."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"setup.py"})," Updates:"]})," Remember to add ",(0,i.jsx)(n.code,{children:"entry_points"})," for ",(0,i.jsx)(n.code,{children:"talker"}),", ",(0,i.jsx)(n.code,{children:"listener"}),", and ",(0,i.jsx)(n.code,{children:"echo_bot"})," in your ",(0,i.jsx)(n.code,{children:"my_robot_pkg/setup.py"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Build & Source:"})," After making code changes and updating ",(0,i.jsx)(n.code,{children:"setup.py"}),", always ",(0,i.jsx)(n.code,{children:"colcon build --packages-select my_robot_pkg"})," and ",(0,i.jsx)(n.code,{children:"source install/setup.bash"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"verification-controls",children:"Verification (Controls):"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Open three separate terminals."}),"\n",(0,i.jsxs)(n.li,{children:["In each terminal, ",(0,i.jsx)(n.code,{children:"cd ~/ros2_ws && source install/setup.bash"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Run each node in its own terminal:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ros2 run my_robot_pkg talker"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ros2 run my_robot_pkg listener"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ros2 run my_robot_pkg echo_bot"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Open a ",(0,i.jsx)(n.em,{children:"fourth"})," terminal and verify communication:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ros2 topic list"})," (You should see ",(0,i.jsx)(n.code,{children:"/chatter"})," and ",(0,i.jsx)(n.code,{children:"/chatter_echo"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ros2 topic echo /chatter"})," (Shows original messages)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ros2 topic echo /chatter_echo"})," (Shows echoed messages)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This project provides a comprehensive practical exercise in ROS 2 node development, demonstrating both basic and chained publish-subscribe patterns."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var r=s(6540);const i={},l=r.createContext(i);function o(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);